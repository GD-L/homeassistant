### General Configurations
# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

homeassistant:
  name: Home
  latitude: !secret home_lat
  longitude: !secret home_long
  elevation: 365
  unit_system: imperial
  time_zone: America/New_York
  customize: !include customize.yaml

#System Health
#https://www.home-assistant.io/components/system_health/
system_health:

http:
  use_x_forwarded_for: true
  trusted_proxies: !secret proxies
  ip_ban_enabled: true
  login_attempts_threshold: 5

lovelace:
  mode: yaml
  resources: !include resources.yaml
  dashboards:
    custom-config:
      mode: yaml
      filename: layouts/lovelace/ui-lovelace.yaml
      title: Dashboard
      show_in_sidebar: true
    testing-zone:
      mode: yaml
      filename: layouts/lovelacetesting/lovelace-testing.yaml
      title: Testing
      show_in_sidebar: true
      require_admin: true
    mobile-layout:
      mode: yaml
      filename: layouts/mobile-layout/mobile-layout.yaml
      title: Mobile
      show_in_sidebar: true
      require_admin: true

browser_mod:
  prefix: "browser_"


# Text to speech
tts:
  - platform: google_translate
#Set frontent to point to themes file
frontend:
  themes: !include_dir_merge_named themes

#Other Configurations
#https://www.home-assistant.io/docs/configuration/splitting_configuration/
group: !include groups.yaml
script: !include scripts.yaml
sensor: !include_dir_merge_list sensors/
recorder: !include recorder.yaml
automation: !include_dir_merge_list automations/
#binary_sensor: !include_dir_merge_list binarysensors/
switch: !include_dir_merge_list switches/
template: 
  - binary_sensor: !include_dir_merge_list template/binarysensors/
input_boolean:
scene: !include_dir_merge_list scenes/
### Weather

weather:
  - platform: darksky
    api_key: !secret darksky
    mode: hourly
    units: us
    latitude: !secret home_lat
    longitude: !secret home_long

sun:

discovery:

wemo:
  discovery: true
  static:
    - 192.168.1.122
    - 192.168.1.121

spotify:
  client_id: !secret spotify_client
  client_secret: !secret spotify_secret

### Custom Zones

zone:
  - name: Greg Work
    latitude: !secret gwork_lat
    longitude: !secret gwork_long
    radius: 300
    icon: mdi:breifcase

  - name: !secret swork_name
    latitude: !secret swork_lat
    longitude: !secret swork_long
    radius: 500
    icon: !secret swork_icon

  - name: Greg Gym
    latitude: !secret gym_lat
    longitude: !secret gym_long
    radius: 300
    icon: mdi:Dumbbell

alexa:
  smart_home:
    filter:
      exclude_domains:
        - sensor
        - automation
        - binary_sensor
        - media_player
        - device_tracker
api:

google_assistant:
  project_id: !secret google_assist_project
  service_account: !include SERVICE_ACCOUNT.JSON
  report_state: true
  exposed_domains:
    - switch
    - light
    - group
    - vacuum
    - climate
  ### Vacuums

ecovacs:
  username: !secret ecovacs_email
  password: !secret ecovacs_pass
  country: us #USA
  continent: na #North America

### Device Trackers

device_tracker:
  - platform: ping
    hosts:
      sara_router: 192.168.1.130
      greg_router: 192.168.1.131
      scan_interval: 60
    consider_home: 600

#Telegram
telegram_bot:
  - platform: polling
    api_key: !secret telegram
    allowed_chat_ids:
      - !secret greg_chatid
      - !secret sara_chatid
notify:
  - name: telegram_notify_Greg
    platform: telegram
    chat_id: !secret greg_chatid

  - name: telegram_notify_Sara
    platform: telegram
    chat_id: !secret sara_chatid

#cams
camera:
  - platform: generic
    name: LR Camera
    still_image_url: /local/wyze-logo.jpg
    stream_source: !secret wyzecam_lr

#Wake on LAN
wake_on_lan:
shell_command: !include shell_command.yaml

google:
  client_id: !secret gcal_client
  client_secret: !secret gcal_secret
  track_new_calendar: false

panel_iframe:
  zwave:
    title: "Z-Wave Config"
    url: !secret zwave_url
    icon: mdi:z-wave
